{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tohze\\\\coding\\\\Anime\\\\Anime-frontend\\\\src\\\\components\\\\Anime\\\\AnimeDetail.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Axios from \"../utils/Axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class AnimeDetail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      type: \"\",\n      episodes: \"\",\n      image_url: \"\",\n      isLoading: true,\n      score: \"\",\n      synopsis: \"\"\n    };\n\n    this.fetchAnime = async title => {\n      console.log('AnimeDetails:', this.props.match);\n      console.log('fetching id:', this.props.match.params.title);\n\n      try {\n        let results = await axios.get(`https://api.jikan.moe/v3/anime/${this}`);\n        console.log(results); // this.setState(\n        //   {\n        //       title: results.data.title,\n        //       image: results.data.image,\n        //       isLoading: false,\n        //   },\n        //   () => {\n        //     this.setState({\n        //       friendMessage: `I think this Dish is delicious. ${this.state.title}`,\n        //     });\n        //   }\n        // );\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.showRecipeDetail = () => {\n      console.log('thisState:', this.state);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.image,\n            alt: this.state.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Serving Size: \", this.state.servings]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Dish Type: \", this.state.dishTypes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Likes: \", this.state.aggregateLikes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    };\n\n    this.handleFormSubmit = async event => {\n      event.preventDefault(); // try {\n      //   let message = this.state.friendMessage;\n      //   let result = await Axios.post(\"/api/twilio/send-sms\", {\n      //     to: this.state.selectedFriendMobileNumber,\n      //     message: message,\n      //   });\n      //   console.log(result);\n      // } catch (e) {\n      //   console.log(e.response);\n      // }\n    };\n\n    this.handleSelectChange = event => {\n      // console.log(JSON.parse(event.target.value));\n      // console.log(event.target.value);\n      let selectedUser = JSON.parse(event.target.value);\n      this.setState({\n        selectedFriendFirstName: selectedUser.firstName,\n        selectedFriendLastName: selectedUser.lastName,\n        selectedFriendID: selectedUser._id,\n        selectedFriendMobileNumber: selectedUser.mobileNumber,\n        friendMessage: `Hey ${selectedUser.firstName}, ${this.state.originalMessage}`\n      });\n    };\n  }\n\n  async componentDidMount() {\n    this.fetchAnime();\n  }\n\n  render() {\n    // console.log(this.state);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          marginTop: \"50px\"\n        },\n        children: \"...Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [this.showRecipeDetail(), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 250,\n            margin: \"0 auto\",\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: this.handleSelectChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Select a friend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this), this.state.friendsArray.map(friend => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: JSON.stringify(friend),\n                children: [friend.firstName, \" \", friend.lastName]\n              }, friend._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            col: \"50\",\n            rows: \"20\",\n            defaultValue: this.state.friendMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.handleFormSubmit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this);\n  }\n\n}\nexport default AnimeDetail;","map":{"version":3,"sources":["C:/Users/tohze/coding/Anime/Anime-frontend/src/components/Anime/AnimeDetail.js"],"names":["React","Component","axios","Axios","AnimeDetail","state","title","type","episodes","image_url","isLoading","score","synopsis","fetchAnime","console","log","props","match","params","results","get","e","showRecipeDetail","display","image","servings","dishTypes","aggregateLikes","handleFormSubmit","event","preventDefault","handleSelectChange","selectedUser","JSON","parse","target","value","setState","selectedFriendFirstName","firstName","selectedFriendLastName","lastName","selectedFriendID","_id","selectedFriendMobileNumber","mobileNumber","friendMessage","originalMessage","componentDidMount","render","textAlign","marginTop","width","margin","friendsArray","map","friend","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Axios from \"../utils/Axios\";\r\n\r\n\r\nexport class AnimeDetail extends Component {\r\n    state = {\r\n      title: \"\",\r\n      type: \"\",\r\n      episodes: \"\",\r\n      image_url: \"\",\r\n      isLoading: true,\r\n      score: \"\",\r\n      synopsis: \"\",\r\n    };\r\n  \r\n\r\n    async componentDidMount() {\r\n      this.fetchAnime();\r\n    }\r\n  \r\n    fetchAnime = async (title) => {\r\n      console.log('AnimeDetails:',this.props.match)\r\n      console.log('fetching id:',this.props.match.params.title)\r\n      try {\r\n        \r\n        let results = await axios.get(\r\n          `https://api.jikan.moe/v3/anime/${this}`\r\n        );\r\n        console.log(results)\r\n        \r\n  \r\n        // this.setState(\r\n        //   {\r\n        //       title: results.data.title,\r\n        //       image: results.data.image,\r\n        //       isLoading: false,\r\n        //   },\r\n        //   () => {\r\n        //     this.setState({\r\n        //       friendMessage: `I think this Dish is delicious. ${this.state.title}`,\r\n        //     });\r\n        //   }\r\n        // );\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    };\r\n  \r\n    showRecipeDetail = () => {\r\n      console.log('thisState:',this.state)\r\n      return (\r\n        <div style={{ display: \"flex\" }}>\r\n          <div>\r\n            <img src={this.state.image} alt={this.state.title} />\r\n          </div>\r\n          <div>\r\n          <div>Serving Size: {this.state.servings}</div>  \r\n            <div>Dish Type: {this.state.dishTypes}</div> \r\n            <div>Likes: {this.state.aggregateLikes}</div> \r\n            \r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n  \r\n    handleFormSubmit = async (event) => {\r\n      event.preventDefault();\r\n  \r\n      // try {\r\n      //   let message = this.state.friendMessage;\r\n  \r\n      //   let result = await Axios.post(\"/api/twilio/send-sms\", {\r\n      //     to: this.state.selectedFriendMobileNumber,\r\n      //     message: message,\r\n      //   });\r\n  \r\n      //   console.log(result);\r\n      // } catch (e) {\r\n      //   console.log(e.response);\r\n      // }\r\n    };\r\n  \r\n    handleSelectChange = (event) => {\r\n      // console.log(JSON.parse(event.target.value));\r\n      // console.log(event.target.value);\r\n  \r\n      let selectedUser = JSON.parse(event.target.value);\r\n  \r\n      this.setState({\r\n        selectedFriendFirstName: selectedUser.firstName,\r\n        selectedFriendLastName: selectedUser.lastName,\r\n        selectedFriendID: selectedUser._id,\r\n        selectedFriendMobileNumber: selectedUser.mobileNumber,\r\n        friendMessage: `Hey ${selectedUser.firstName}, ${this.state.originalMessage}`,\r\n      });\r\n    };\r\n  \r\n    render() {\r\n      // console.log(this.state);\r\n      return (\r\n        <div>\r\n          {this.state.isLoading ? (\r\n            <div style={{ textAlign: \"center\", marginTop: \"50px\" }}>\r\n              ...Loading\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {this.showRecipeDetail()}\r\n  \r\n              <div style={{ width: 250, margin: \"0 auto\", textAlign: \"center\" }}>\r\n                <select onChange={this.handleSelectChange}>\r\n                  <option>Select a friend</option>\r\n                  {this.state.friendsArray.map((friend) => {\r\n                    return (\r\n                      <option key={friend._id} value={JSON.stringify(friend)}>\r\n                        {friend.firstName} {friend.lastName}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n                <textarea\r\n                  col=\"50\"\r\n                  rows=\"20\"\r\n                  defaultValue={this.state.friendMessage}\r\n                />\r\n                <br />\r\n                <button onClick={this.handleFormSubmit}>Submit</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default AnimeDetail;"]},"metadata":{},"sourceType":"module"}